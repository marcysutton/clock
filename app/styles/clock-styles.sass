@import reset
@import config
@import utilities
@import typography
@import header
@import footer
@import search_form
@import jquery-ui

html, body
  height: 100%
  min-height: 100%
  overflow: auto

.bg-img
  background: #000 url(../images/clock-grayscale.gif)
  background-size: cover
  background-repeat: no-repeat
  background-position: center center
  height: 100%
  position: absolute
  top: 0
  width: 100%

  .clock-active &
    background-image: none

.cover
  background-color: rgba(0, 0, 0, 0.75)
  position: absolute
  height: 100%
  top: 0
  width: 100%

.app-wrapper
  +vertPositionMiddle

  .clock-active &
    position: static
    +transform(none)

.app
  height: 97%
  overflow: hidden
  width: 100%

  .clock-active &
    position: absolute
    top: 3%

  ul
    margin: 0px auto 0
    position: relative
    width: 100%

    li.stack
      float: left
      width: 33%

      h3
        display: none
        padding-top: 2%
        position: absolute
        text-align: center
        width: 33%
        z-index: 2

      &#hours h3
        left: 0

      &#minutes h3
        left: 33%

      &#seconds h3
        left: 66%

      ul
        margin: 0 $default_margin

        li
          margin-bottom: 5px
          overflow: hidden
          padding: 0 $default_margin
          position: relative

          &> div
            height: 0
            margin: 0 auto
            opacity: .7
            overflow: hidden
            padding-top: $default-margin
            position: relative
            width: 80%

            div.img
              background-repeat: no-repeat
              bottom: 0
              display: block
              left: 0
              position: absolute
              right: 0
              top: 0

          &.current
            z-index: 1

            &> div
              height: auto
              opacity: 1
              padding-top: 56.25%
              width: 100%

              div.img
                background-size: cover
                background-position: center center
                width: 100%

.clock-active
  .gradient
    position: absolute
    height: 30%
    width: 100%
    z-index: 1

    &.top
      @include background-image(linear-gradient(top, rgba(0,0,0,1) 0%,rgba(0,0,0,0) 100%))
      top: 0

    &.bottom
      @include background-image(linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%))
      bottom: 0
//
// Mobile
//
.mobile
  .gradient
    display: none

  @media #{$portrait}
    .app
      padding-bottom: $default_margin * 2
      position: relative
      top: 0

      li.stack
        float: none
        margin: $default-margin auto
        position: relative
        width: 100%

        h3
          width: 100%

        &#hours h3,
        &#minutes h3,
        &#seconds h3
          left: auto

        ul
          margin: 0

          li.current > div
            min-height: 15px
            padding-top: 34%

  @media #{$landscape}
    &.clock-active
      .app-wrapper
        height: 100%
        min-height: 100%
        position: relative
        top: 0

      .app
        height: 100%
        min-height: 100%
        top: 0

        ul.imgStacks
          +vertPositionMiddle($percent: 30%)
